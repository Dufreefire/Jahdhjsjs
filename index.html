<!DOCTYPE html>    
<html lang="vi">    
<head>    
    <meta charset="UTF-8">    
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">    
    <title>Tool T√†i X·ªâu MD5 - Premium Edition</title>    
    <script src="https://cdn.tailwindcss.com"></script>    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>    
    <style>    
        @import url('https://fonts.googleapis.com/css2?family=Lexend:wght@300;400;700;900&display=swap');    
        :root { --main: #00f2ff; --sub: #7000ff; --dark: #020205; --gold: #fbbf24; }    
        
        * { -webkit-user-select: none; user-select: none; box-sizing: border-box; outline: none !important; -webkit-tap-highlight-color: transparent; }    
        input, textarea { -webkit-user-select: auto !important; user-select: auto !important; pointer-events: auto !important; }  
        
        body { background-color: var(--dark); color: white; font-family: 'Lexend', sans-serif; overflow: hidden; height: 100vh; margin: 0; }    
        #bg-canvas { position: fixed; inset: 0; z-index: -1; }    

        /* Giao di·ªán chung */
        .glass-card { background: rgba(255, 255, 255, 0.02); border: 1px solid rgba(0, 242, 255, 0.15); backdrop-filter: blur(20px); border-radius: 30px; }    
        .btn-main { background: linear-gradient(135deg, var(--main) 0%, var(--sub) 100%); color: white; font-weight: 800; cursor: pointer; transition: 0.3s; box-shadow: 0 10px 20px rgba(0, 242, 255, 0.2); }    
        .cyber-input { background: rgba(0, 0, 0, 0.6) !important; border: 1px solid rgba(255, 255, 255, 0.1) !important; color: var(--main) !important; border-radius: 15px !important; text-align: center; }    
    
        /* Menu Bottom */
        .nav-bar { position: fixed; bottom: 0; left: 0; right: 0; height: 75px; background: rgba(10,10,20,0.95); border-top: 1px solid rgba(0,242,255,0.2); backdrop-filter: blur(20px); display: flex; justify-content: space-around; align-items: center; z-index: 999; }    
        .nav-item { display: flex; flex-direction: column; align-items: center; color: #555; cursor: pointer; transition: 0.3s; width: 20%; }    
        .nav-item.active { color: var(--main); text-shadow: 0 0 10px var(--main); }    
        .nav-item span { font-size: 7px; font-weight: 900; text-transform: uppercase; margin-top: 4px; letter-spacing: 0.5px; }    
        .nav-center { position: relative; top: -20px; width: 60px; height: 60px; background: linear-gradient(135deg, var(--main), var(--sub)); border-radius: 50%; display: flex; align-items: center; justify-content: center; box-shadow: 0 0 20px rgba(0, 242, 255, 0.5); border: 4px solid var(--dark); transition: 0.3s; }    

        /* Info & Ranking Styles */
        .info-row { display: flex; align-items: center; gap: 15px; padding: 15px; background: rgba(255,255,255,0.03); border-radius: 20px; border: 1px solid rgba(255,255,255,0.05); margin-bottom: 10px; }
        .rank-item { display: flex; align-items: center; justify-content: space-between; padding: 12px 15px; background: rgba(255,255,255,0.02); border-radius: 15px; margin-bottom: 8px; border: 1px solid rgba(255,255,255,0.03); }
        .top-1 { border: 1px solid var(--gold); background: rgba(251, 191, 36, 0.05); }

        /* HI·ªÜU ·ª®NG 7 M√ÄU CHO 6 G√ìI KEY */
        @keyframes rainbow {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        .pkg-card { background-size: 200% 200%; animation: rainbow 3s linear infinite; transition: 0.3s; border: 1px solid rgba(255,255,255,0.1); }
        .pkg-card:active { transform: scale(0.96); }
        .pkg-1 { background: linear-gradient(-45deg, #a8582d, #5e331b, #a8582d, #3d2111); } /* ƒê·ªíNG */
        .pkg-2 { background: linear-gradient(-45deg, #94a3b8, #475569, #94a3b8, #1e293b); } /* B·∫†C */
        .pkg-3 { background: linear-gradient(-45deg, #fbbf24, #b45309, #fbbf24, #78350f); } /* V√ÄNG */
        .pkg-4 { background: linear-gradient(-45deg, #22d3ee, #0891b2, #22d3ee, #164e63); } /* KIM C∆Ø∆†NG */
        .pkg-5 { background: linear-gradient(-45deg, #c084fc, #7e22ce, #c084fc, #4c1d95); } /* CAO TH·ª¶ */
        .pkg-6 { background: linear-gradient(-45deg, #f43f5e, #9f1239, #f43f5e, #4c0519); } /* Vƒ®NH VI·ªÑN */

        .transition-overlay { position: fixed; inset: 0; background: #020205; z-index: 11000; display: none; align-items: center; justify-content: center; }  

                /* Giao di·ªán mua key m·ªõi */
        .pkg-card { position: relative; overflow: hidden; transition: 0.4s; border: 1px solid rgba(255,255,255,0.1); }
        .pkg-card::after { content: ''; position: absolute; inset: 0; background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent); transform: translateX(-100%); transition: 0.6s; }
        .pkg-card:hover::after { transform: translateX(100%); }
        
        .success-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.9); z-index: 20000; display: none; flex-direction: column; align-items: center; justify-content: center; backdrop-filter: blur(10px); }

        @keyframes float { 0% { transform: translateY(0); } 50% { transform: translateY(-10px); } 100% { transform: translateY(0); } }
        .float-icon { animation: float 3s ease-in-out infinite; }

        .transition-overlay { position: fixed; inset: 0; background: var(--dark); z-index: 15000; display: none; align-items: center; justify-content: center; }
    </style>    
</head>    
<body>    

<div id="transition-screen" class="transition-overlay">
    <div class="text-center">
        <div style="width:60px;height:60px;border:4px solid var(--main);border-top-color:transparent;border-radius:50%;" class="animate-spin mx-auto mb-4"></div>
        <p class="text-cyan-400 font-black text-xs tracking-widest uppercase animate-pulse">ƒêang ƒë·ªìng b·ªô h·ªá th·ªëng...</p>
    </div>
</div>

<div id="success-screen" class="success-overlay">
    <div class="text-center animate__animated animate__zoomIn">
        <div class="w-24 h-24 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-6 shadow-[0_0_40px_rgba(34,197,94,0.5)]">
            <i class="fas fa-shopping-cart text-4xl text-white"></i>
        </div>
        <h2 class="text-2xl font-black mb-2 italic">GIAO D·ªäCH TH√ÄNH C√îNG!</h2>
        <p class="text-gray-400 text-sm mb-6 px-10" id="success-msg">B·∫°n ƒë√£ mua g√≥i Key VIP th√†nh c√¥ng. Vui l√≤ng sao ch√©p v√† k√≠ch ho·∫°t.</p>
        <div id="key-display-box" class="hidden bg-white/10 p-4 rounded-2xl mb-6 border border-white/20">
            <p class="text-[10px] text-gray-400 uppercase font-bold mb-1">M√£ Key c·ªßa b·∫°n:</p>
            <p id="new-key-val" class="text-xl font-black text-cyan-400 tracking-wider"></p>
        </div>
        <button onclick="copyAndClose()" class="px-10 py-4 btn-main rounded-full text-xs uppercase font-black">Sao ch√©p & ƒê√≥ng</button>
    </div>
</div>
    
<div id="transition-screen" class="transition-overlay">  
    <div style="width:50px;height:50px;border:3px solid var(--main);border-top-color:transparent;border-radius:50%;" class="animate-spin"></div>  
</div>  
    
<canvas id="bg-canvas"></canvas>    
    
<div class="flex items-center justify-center min-h-screen p-4 pb-28">    
    <div class="w-full max-w-[420px]">    
            
        <div id="box-login" class="glass-card p-10 animate__animated animate__fadeIn">    
            <div class="text-center mb-8">    
                <h1 class="text-3xl font-black uppercase italic italic">TOOL T√ÄI X·ªàU <span class="text-cyan-400">MD5</span> VIP</h1>    
                <p class="text-[9px] text-gray-500 font-bold uppercase mt-1 tracking-[4px]">H·ªá Th·ªëng Ph√¢n T√≠ch Premium</p>    
            </div>    
            <div class="space-y-4">    
                <input id="u" type="text" placeholder="T√äN ƒêƒÇNG NH·∫¨P" class="w-full p-5 cyber-input uppercase font-bold text-xs">    
                <input id="p" type="password" placeholder="M·∫¨T KH·∫®U" class="w-full p-5 cyber-input text-xs">    
                <button onclick="doLogin()" class="w-full py-5 btn-main rounded-2xl text-sm font-black uppercase italic tracking-widest">ƒêƒÉng nh·∫≠p</button>    
                <button onclick="navigateTo('reg')" class="w-full text-[10px] text-gray-500 uppercase font-bold">Ch∆∞a c√≥ t√†i kho·∫£n? ƒêƒÉng k√Ω</button>    
            </div>    
        </div>

        <div id="box-reg" class="hidden glass-card p-8 animate__animated animate__fadeIn">
             <h2 class="text-center font-black text-cyan-400 mb-6 uppercase text-sm">ƒêƒÉng k√Ω th√†nh vi√™n</h2>
             <div class="space-y-3">
                 <input id="r-u" type="text" placeholder="T√äN ƒêƒÇNG NH·∫¨P" class="w-full p-4 cyber-input uppercase text-xs">
                 <input id="r-p" type="password" placeholder="M·∫¨T KH·∫®U" class="w-full p-4 cyber-input text-xs">
                 <input id="r-email" type="email" placeholder="GMAIL" class="w-full p-4 cyber-input text-xs">
                 <input id="r-phone" type="tel" placeholder="S·ªê ƒêI·ªÜN THO·∫†I" class="w-full p-4 cyber-input text-xs">
                 <button onclick="doReg()" class="w-full py-5 btn-main rounded-2xl text-xs font-black uppercase">X√°c nh·∫≠n ƒëƒÉng k√Ω</button>
                 <button onclick="navigateTo('login')" class="w-full text-[10px] text-gray-500 uppercase mt-2">Quay l·∫°i ƒëƒÉng nh·∫≠p</button>
             </div>
        </div>

        <div id="box-portal" class="hidden animate__animated animate__zoomIn">    
            <div class="flex justify-between items-center mb-6 px-2">    
                <div class="flex items-center gap-4">    
                    <img src="https://i.imgur.com/WLeaCev.jpeg" class="w-14 h-14 rounded-2xl border-2 border-cyan-400">    
                    <div>    
                        <p id="portal-user" class="text-cyan-400 text-[11px] font-black uppercase"></p>    
                        <p id="portal-bal" class="text-2xl font-black text-white italic">0 ƒë</p>    
                    </div>    
                </div>    
            </div>    
            <div class="glass-card p-5 mb-5 bg-gradient-to-br from-cyan-500/10 to-transparent">    
                <p class="text-[9px] text-gray-500 font-bold uppercase mb-2">M√É ƒê·ªäNH DANH C·ª¶A B·∫†N</p>    
                <div class="flex justify-between items-center">    
                    <span id="portal-ref" class="text-xl font-black tracking-[4px] text-white"></span>    
                    <button onclick="navigateTo('nap')" class="px-5 py-2 btn-main rounded-full text-[10px] font-black uppercase">N·∫°p</button>    
                </div>    
            </div>    
            <div class="grid grid-cols-2 gap-4">    
                <div onclick="navigateTo('buy-key')" class="glass-card p-8 text-center cursor-pointer hover:border-cyan-400 transition">    
                    <span class="text-4xl block mb-2">üíé</span><p class="text-[10px] font-black uppercase">G√≥i Key VIP</p>    
                </div>    
                <div onclick="showPersonal()" class="glass-card p-8 text-center cursor-pointer hover:border-cyan-400 transition">    
                    <span class="text-4xl block mb-2">üë§</span><p class="text-[10px] font-black uppercase">C√° Nh√¢n</p>    
                </div>    
            </div>    
        </div>

        <div id="box-info" class="hidden animate__animated animate__fadeInUp">
            <div class="glass-card p-6">
                <div class="text-center mb-8">
                    <img src="https://i.imgur.com/WLeaCev.jpeg" class="w-20 h-20 rounded-3xl border-2 border-cyan-400 mx-auto mb-3">
                    <h3 id="info-u" class="text-xl font-black text-white uppercase italic">USER NAME</h3>
                    <p class="text-[10px] text-cyan-400 font-bold uppercase tracking-widest">Premium Member</p>
                </div>
                <div class="space-y-3">
                    <div class="info-row"><span>üîë</span><div><p class="text-[8px] text-gray-500 font-black uppercase">Key VIP</p><p id="info-key" class="text-xs font-bold text-white"></p></div></div>
                    <div class="info-row"><span>üìß</span><div><p class="text-[8px] text-gray-500 font-black uppercase">Email</p><p id="info-email" class="text-xs font-bold text-white"></p></div></div>
                    <div class="info-row"><span>üì±</span><div><p class="text-[8px] text-gray-500 font-black uppercase">S·ªë ƒëi·ªán tho·∫°i</p><p id="info-phone" class="text-xs font-bold text-white"></p></div></div>
                    <div class="info-row"><span>üí∞</span><div><p class="text-[8px] text-gray-500 font-black uppercase">S·ªë d∆∞</p><p id="info-bal" class="text-xs font-bold text-green-400"></p></div></div>
                </div>
                <button onclick="navigateTo('portal')" class="w-full mt-6 py-4 bg-white/5 rounded-2xl text-[10px] font-black uppercase tracking-widest">ƒê√≥ng h·ªì s∆°</button>
            </div>
        </div>

        <div id="box-rank" class="hidden animate__animated animate__fadeInUp">
            <div class="glass-card p-6">
                <div class="text-center mb-6">
                    <h3 class="text-lg font-black text-white uppercase italic">üèÜ B·∫£ng X·∫øp H·∫°ng</h3>
                    <p class="text-[9px] text-gray-500 uppercase font-bold">Top 10 ƒê·∫°i Gia N·∫°p Ti·ªÅn</p>
                </div>
                <div id="ranking-list" class="space-y-2 max-h-[350px] overflow-y-auto pr-1"></div>
            </div>
        </div>

        <div id="box-buy-key" class="hidden glass-card p-6 animate__animated animate__fadeInUp">
            <h3 class="text-center font-black text-cyan-400 mb-6 uppercase text-sm tracking-widest">C·ª≠a h√†ng G√≥i VIP</h3>
            <div class="space-y-3 max-h-[420px] overflow-y-auto pr-1">
                <div onclick="buyKey(5000, 0.04)" class="pkg-card pkg-1 p-5 rounded-2xl flex justify-between items-center shadow-lg">
                    <div><p class="text-xs font-black text-white uppercase">G√≥i ƒê·ªìng (1H)</p><p class="text-[8px] text-white/70 uppercase">Tr·∫£i nghi·ªám nhanh</p></div>
                    <span class="font-black text-white">5k</span>
                </div>
                <div onclick="buyKey(15000, 1)" class="pkg-card pkg-2 p-5 rounded-2xl flex justify-between items-center shadow-lg">
                    <div><p class="text-xs font-black text-white uppercase">G√≥i B·∫°c (24H)</p><p class="text-[8px] text-white/70 uppercase">D√πng trong ng√†y</p></div>
                    <span class="font-black text-white">15k</span>
                </div>
                <div onclick="buyKey(55000, 3)" class="pkg-card pkg-3 p-5 rounded-2xl flex justify-between items-center shadow-lg">
                    <div><p class="text-xs font-black text-white uppercase">G√≥i V√†ng (7 Ng√†y)</p><p class="text-[8px] text-white/70 uppercase">B√°n ch·∫°y nh·∫•t</p></div>
                    <span class="font-black text-white">55k</span>
                </div>
                <div onclick="buyKey(70000, 7)" class="pkg-card pkg-4 p-5 rounded-2xl flex justify-between items-center shadow-lg">
                    <div><p class="text-xs font-black text-white uppercase">G√≥i Kim C∆∞∆°ng (1 Th√°ng)</p><p class="text-[8px] text-white/70 uppercase">Ti·∫øt ki·ªám chi ph√≠</p></div>
                    <span class="font-black text-white">70k</span>
                </div>
                <div onclick="buyKey(150000, 30)" class="pkg-card pkg-5 p-5 rounded-2xl flex justify-between items-center shadow-lg">
                    <div><p class="text-xs font-black text-white uppercase">G√≥i Cao Th·ªß (3 Th√°ng)</p><p class="text-[8px] text-white/70 uppercase">ƒê·∫≥ng c·∫•p VIP</p></div>
                    <span class="font-black text-white">150k</span>
                </div>
                <div onclick="buyKey(250000, 9999)" class="pkg-card pkg-6 p-5 rounded-2xl flex justify-between items-center shadow-lg">
                    <div><p class="text-xs font-black text-white uppercase">G√≥i Vƒ©nh Vi·ªÖn</p><p class="text-[8px] text-white/70 uppercase">S·ª≠ d·ª•ng m√£i m√£i</p></div>
                    <span class="font-black text-white">250k</span>
                </div>
            </div>
        </div>

        <div id="box-use-key" class="hidden glass-card p-8 animate__animated animate__fadeIn">
            <div id="key-activation">
                <h3 class="text-center font-black text-cyan-400 mb-6 uppercase text-xs">K√≠ch Ho·∫°t B·∫£n Quy·ªÅn</h3>
                <input id="key-input" type="text" placeholder="D√ÅN M√É KEY VIP" class="w-full p-5 cyber-input mb-4 uppercase text-xs font-black">
                <button onclick="activateLicense()" class="w-full py-5 btn-main rounded-2xl text-xs font-black uppercase">M·ªü kh√≥a Tool</button>
            </div>
            <<div id="tool-interface" class="hidden space-y-4 text-center relative p-2">
    <div id="scanner" class="scanner-line"></div>
    <p id="expiry-text" class="text-[10px] font-bold text-cyan-400 uppercase italic"></p>
    
    <div class="relative">
        <textarea id="md5-input" placeholder="D√ÅN M√É PHI√äN MD5 T·∫†I ƒê√ÇY..." class="w-full h-28 p-4 cyber-input uppercase text-[11px] font-bold border-dashed border-cyan-500/30" style="background: rgba(0,0,0,0.8) !important;"></textarea>
    </div>
    
    <div id="load-wrap" class="loading-wrapper">
        <div id="load-fill" class="loading-fill"></div>
    </div>

    <button id="ana-btn" onclick="runAnalysis()" class="w-full py-5 btn-main rounded-2xl text-xs font-black uppercase tracking-[2px]">
        B·∫Øt ƒë·∫ßu Ph√¢n T√≠ch
    </button>

    <div id="res-display" class="hidden mt-4 animate__animated animate__fadeIn">
        <div class="glass-card p-6 border-cyan-500/40 bg-black/60">
            <div class="flex justify-between items-center mb-4">
                <div class="text-left">
                    <p class="text-[8px] text-gray-500 uppercase font-black">VERISSON 2026 @ CREDITS</p>
                    <p class="text-[10px] text-green-400 font-bold">‚óè ƒêANG HO·∫†T ƒê·ªòNG</p>
                </div>
                <div class="text-right">
                    <p class="text-[8px] text-gray-500 uppercase font-black">Confidence</p>
                    <p id="res-acc" class="text-[10px] text-yellow-500 font-black"></p>
                </div>
            </div>
            
            <div class="py-6 border-y border-white/10">
                <p id="res-val" class="text-8xl font-black italic tracking-tighter leading-none"></p>
                <p class="text-[10px] text-gray-400 mt-2 uppercase font-bold tracking-[3px]">C·∫ßu d·ª± ƒëo√°n</p>
            </div>

            <div class="mt-4 grid grid-cols-2 gap-4">
                <div class="p-2 rounded-xl bg-white/5 border border-white/5">
                    <p class="text-[8px] text-gray-500 uppercase mb-1">T·ª∑ l·ªá T√†i</p>
                    <div id="rate-tai-bar" class="h-1 bg-cyan-500 rounded-full mb-1"></div>
                    <p id="rate-tai-val" class="text-[10px] font-bold text-white"></p>
                </div>
                <div class="p-2 rounded-xl bg-white/5 border border-white/5">
                    <p class="text-[8px] text-gray-500 uppercase mb-1">T·ª∑ l·ªá X·ªâu</p>
                    <div id="rate-xiu-bar" class="h-1 bg-red-500 rounded-full mb-1"></div>
                    <p id="rate-xiu-val" class="text-[10px] font-bold text-white"></p>
                </div>
            </div>
        </div>
    </div>
</div>

        <div id="box-nap" class="hidden glass-card p-8 text-center animate__animated animate__fadeIn">
            <h3 class="text-cyan-400 font-black mb-6 uppercase text-sm">N·∫°p ti·ªÅn v√†o v√≠</h3>
            <div class="bg-white p-2 rounded-2xl inline-block mb-4">
                <img id="qr-code" src="" class="w-48">
            </div>
            <p class="text-[10px] text-gray-500 font-bold uppercase mb-1">N·ªôi dung chuy·ªÉn kho·∫£n (B·∫Øt bu·ªôc)</p>
            <p id="ref-id" class="text-3xl font-black text-white tracking-[4px] mb-6"></p>
            <input id="nap-amount" type="number" placeholder="S·ªê TI·ªÄN ƒê√É CHUY·ªÇN" class="w-full p-4 cyber-input mb-4 text-xs font-black">
            <button onclick="sendNapTele()" class="w-full py-5 btn-main rounded-2xl text-xs font-black uppercase">X√°c nh·∫≠n ƒë√£ chuy·ªÉn</button>
        </div>

    </div>    
</div>    
    
<div id="main-nav" class="nav-bar hidden">    
    <div class="nav-item active" onclick="navigateTo('portal'); setActiveNav(this)">    
        <svg fill="currentColor" viewBox="0 0 24 24" width="22"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>    
        <span>Trang Ch·ªß</span>    
    </div>    
    <div class="nav-item" onclick="showRanking(); setActiveNav(this)">    
        <svg fill="currentColor" viewBox="0 0 24 24" width="22"><path d="M7.5 21H2V9h5.5v12zm7.25 0h-5.5V3h5.5v18zM22 21h-5.5V12H22v9z"/></svg>    
        <span>X·∫øp H·∫°ng</span>    
    </div>    
    <div class="nav-center" onclick="checkToolAccess(); setActiveNav(this)">    
        <svg viewBox="0 0 24 24" width="28" fill="white"><path d="M12.65 10C11.83 7.67 9.61 6 7 6c-3.31 0-6 2.69-6 6s2.69 6 6 6c2.61 0 4.83-1.67 5.65-4H17v4h4v-4h2v-4H12.65zM7 14c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"/></svg>    
    </div>    
    <div class="nav-item" onclick="navigateTo('nap'); setActiveNav(this)">    
        <svg fill="currentColor" viewBox="0 0 24 24" width="22"><path d="M21 18v1c0 1.1-.9 2-2 2H5c-1.11 0-2-.9-2-2V5c0-1.1.89-2 2-2h14c1.1 0 2 .9 2 2v1h-9c-1.11 0-2 .9-2 2v8c0 1.1.89 2 2 2h9zm-9-2h10V8H12v8zm4-2.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"/></svg>    
        <span>N·∫°p Ti·ªÅn</span>    
    </div>    
    <div class="nav-item" onclick="showPersonal(); setActiveNav(this)">    
        <svg fill="currentColor" viewBox="0 0 24 24" width="22"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg>    
        <span>H·ªì S∆°</span>    
    </div>    
</div>    
    
<script>    
    // CONFIG & DB
    const CONFIG = {    
        TELE_TOKEN: "8537007585:AAE5Z1aX4ZCMxCySB5I_qNpzhQS6sr84SsU",    
        TELE_CHAT_ID: "8144161968",    
        STK: "103886058569",    
        BANK: "ICB",     
        DB_NAME: "MD5_DATABASE_PRO_V6_8"    
    };    
    
    let currentUser = null;    
    const getDB = () => JSON.parse(localStorage.getItem(CONFIG.DB_NAME)) || { users: [], keys: [], history: [] };    
    const saveDB = (db) => localStorage.setItem(CONFIG.DB_NAME, JSON.stringify(db));    
    
    // NAVIGATION
    function navigateTo(boxId) {  
        document.getElementById('transition-screen').style.display = 'flex';  
        setTimeout(() => {  
            document.getElementById('transition-screen').style.display = 'none';  
            document.querySelectorAll('[id^="box-"]').forEach(b => b.classList.add('hidden'));    
            document.getElementById('box-' + boxId).classList.remove('hidden');    
            if(boxId === 'portal') refreshPortal();
            if(boxId === 'nap') {
                document.getElementById('ref-id').innerText = currentUser.ref;
                document.getElementById('qr-code').src = `https://img.vietqr.io/image/${CONFIG.BANK}-${CONFIG.STK}-compact.png?addInfo=${currentUser.ref}`;
            }
        }, 600);  
    }  

    function setActiveNav(el) {    
        document.querySelectorAll('.nav-item').forEach(i => i.classList.remove('active'));    
        if(!el.classList.contains('nav-center')) el.classList.add('active');    
    }

    // INFO & RANKING
    function showPersonal() {
        const db = getDB();
        currentUser = db.users.find(u => u.u === currentUser.u);
        document.getElementById('info-u').innerText = currentUser.u;
        document.getElementById('info-email').innerText = currentUser.email || "CH∆ØA C·∫¨P NH·∫¨T";
        document.getElementById('info-phone').innerText = currentUser.phone || "CH∆ØA C·∫¨P NH·∫¨T";
        document.getElementById('info-bal').innerText = currentUser.bal.toLocaleString() + " VNƒê";
        document.getElementById('info-key').innerText = (currentUser.hsd && currentUser.hsd > Date.now()) ? "üíé ƒêANG HO·∫†T ƒê·ªòNG" : "‚ùå CH∆ØA K√çCH HO·∫†T";
        navigateTo('info');
    }

    function showRanking() {
        const db = getDB();
        const sortedUsers = [...db.users].sort((a, b) => b.bal - a.bal).slice(0, 10);
        document.getElementById('ranking-list').innerHTML = sortedUsers.map((u, i) => `
            <div class="rank-item ${i === 0 ? 'top-1' : ''}">
                <div class="flex items-center gap-3">
                    <span class="font-black italic text-cyan-400 w-5">${i + 1}</span>
                    <span class="text-[11px] font-black uppercase text-gray-300">${u.u.substring(0, 3)}***</span>
                </div>
                <span class="text-[11px] font-black text-cyan-400">${u.bal.toLocaleString()} VNƒê</span>
            </div>
        `).join('');
        navigateTo('rank');
    }

    // CORE LOGIC
    function doLogin() {    
        const u = document.getElementById('u').value.trim().toUpperCase();    
        const p = document.getElementById('p').value;    
        if(!u || !p) return alert("Vui l√≤ng nh·∫≠p ƒë·ªß!");
        let db = getDB();    
        const f = db.users.find(x => x.u === u && x.p === p);    
        if(f) {    
            currentUser = f;    
            document.getElementById('main-nav').classList.remove('hidden');    
            navigateTo('portal');    
        } else alert("Sai th√¥ng tin ƒëƒÉng nh·∫≠p!");
    }    

    function doReg() {    
        const u = document.getElementById('r-u').value.trim().toUpperCase();    
        const p = document.getElementById('r-p').value;    
        const em = document.getElementById('r-email').value;
        const ph = document.getElementById('r-phone').value;
        if(u.length < 3) return alert("T√™n qu√° ng·∫Øn!");    
        let db = getDB();    
        if(db.users.find(x => x.u === u)) return alert("T√†i kho·∫£n ƒë√£ t·ªìn t·∫°i!");    
        const newUser = { u, p, email: em, phone: ph, bal: 0, ref: "VIP" + Math.floor(1000 + Math.random()*8999), hsd: null };    
        db.users.push(newUser); saveDB(db);    
        currentUser = newUser;
        document.getElementById('main-nav').classList.remove('hidden');
        navigateTo('portal');
    }

    function refreshPortal() {    
        const db = getDB();    
        currentUser = db.users.find(u => u.u === currentUser.u);    
        document.getElementById('portal-user').innerText = "XIN CH√ÄO, " + currentUser.u;    
        document.getElementById('portal-bal').innerText = currentUser.bal.toLocaleString() + " VNƒê";    
        document.getElementById('portal-ref').innerText = currentUser.ref;    
    }

    function checkToolAccess() {
        if(currentUser.hsd && currentUser.hsd > Date.now()) {
            document.getElementById('key-activation').classList.add('hidden');
            document.getElementById('tool-interface').classList.remove('hidden');
            document.getElementById('expiry-text').innerText = "H·∫æT H·∫†N: " + new Date(currentUser.hsd).toLocaleDateString();
        } else {
            document.getElementById('key-activation').classList.remove('hidden');
            document.getElementById('tool-interface').classList.add('hidden');
        }
        navigateTo('use-key');
    }

    function copyAndClose() {
        const key = document.getElementById('new-key-val').innerText;
        navigator.clipboard.writeText(key).then(() => {
            document.getElementById('success-screen').style.display = 'none';
            alert("ƒê√£ sao ch√©p m√£ Key v√†o b·ªô nh·ªõ t·∫°m!");
            navigateTo('portal');
        });
    }

    function copyText(txt) {
        navigator.clipboard.writeText(txt).then(() => alert("ƒê√£ sao ch√©p: " + txt));
    }

    function buyKey(price, days) {
        let db = getDB();
        const uIdx = db.users.findIndex(u => u.u === currentUser.u);
        if(db.users[uIdx].bal < price) return alert("S·ªë d∆∞ kh√¥ng ƒë·ªß!");
        if(confirm(`Mua g√≥i n√†y v·ªõi gi√° ${price.toLocaleString()} VNƒê?`)) {
            db.users[uIdx].bal -= price;
            const key = "KEY-" + Math.random().toString(36).substring(2, 8).toUpperCase();
            db.keys.push({ key, days, used: false });
            saveDB(db);
            alert("MUA TH√ÄNH C√îNG!\nKey c·ªßa b·∫°n: " + key);
            refreshPortal();
        }
    }

    function activateLicense() {
        const kv = document.getElementById('key-input').value.trim().toUpperCase();
        let db = getDB();
        const kIdx = db.keys.findIndex(k => k.key === kv && !k.used);
        if(kIdx === -1) return alert("Key kh√¥ng h·ª£p l·ªá!");
        const uIdx = db.users.findIndex(u => u.u === currentUser.u);
        db.users[uIdx].hsd = Date.now() + (db.keys[kIdx].days * 86400000);
        db.keys[kIdx].used = true;
        saveDB(db);
        alert("K√çCH HO·∫†T TH√ÄNH C√îNG!");
        checkToolAccess();
    }

    function runAnalysis() {
    const input = document.getElementById('md5-input').value.trim();
    if(input.length < 10) return alert("M√£ MD5 kh√¥ng h·ª£p l·ªá!");
    
    const btn = document.getElementById('ana-btn');
    const scanner = document.getElementById('scanner');
    const loadWrap = document.getElementById('load-wrap');
    const loadFill = document.getElementById('load-fill');
    const resDisplay = document.getElementById('res-display');

    // Hi·ªáu ·ª©ng b·∫Øt ƒë·∫ßu
    btn.disabled = true;
    btn.innerText = "ƒêANG PH√ÇN T√çCH...";
    scanner.style.display = 'block';
    loadWrap.style.display = 'block';
    resDisplay.classList.add('hidden');
    
    // Thu·∫≠t to√°n bƒÉm chu·ªói (D√πng chu·ªói MD5 l√†m h·∫°t gi·ªëng - KH√îNG RANDOM)
    let hash = 0;
    for (let i = 0; i < input.length; i++) {
        hash = ((hash << 5) - hash) + input.charCodeAt(i);
        hash |= 0; 
    }
    const seed = Math.abs(hash);

    let progress = 0;
    const interval = setInterval(() => {
        progress += 2;
        loadFill.style.width = progress + "%";
        
        if (progress >= 100) {
            clearInterval(interval);
            
            // T√≠nh to√°n k·∫øt qu·∫£ d·ª±a tr√™n seed (h·∫°t gi·ªëng t·ª´ MD5)
            // L·∫•y s·ªë d∆∞ ƒë·ªÉ quy·∫øt ƒë·ªãnh T√†i (L·∫ª) ho·∫∑c X·ªâu (Ch·∫µn)
            const resultValue = seed % 100;
            const isTai = resultValue > 49; 
            
            // ƒê·ªô ch√≠nh x√°c dao ƒë·ªông t·ª´ 95-99% d·ª±a tr√™n seed
            const acc = (95 + (seed % 450) / 100).toFixed(2);
            
            // T·ª∑ l·ªá ph·∫ßn trƒÉm hi·ªÉn th·ªã (V√≠ d·ª• T√†i 72% - X·ªâu 28%)
            const percentMain = 60 + (seed % 30);
            const percentSub = 100 - percentMain;

            // Hi·ªÉn th·ªã k·∫øt qu·∫£
            const v = document.getElementById('res-val');
            v.innerText = isTai ? "T√ÄI" : "X·ªàU";
            v.className = `text-8xl font-black italic py-2 animate__animated animate__zoomIn ${isTai ? 'text-cyan-400' : 'text-red-500'}`;
            
            document.getElementById('res-acc').innerText = acc + "%";
            
            if(isTai) {
                document.getElementById('rate-tai-val').innerText = percentMain + "%";
                document.getElementById('rate-xiu-val').innerText = percentSub + "%";
                document.getElementById('rate-tai-bar').style.width = percentMain + "%";
                document.getElementById('rate-xiu-bar').style.width = percentSub + "%";
            } else {
                document.getElementById('rate-xiu-val').innerText = percentMain + "%";
                document.getElementById('rate-tai-val').innerText = percentSub + "%";
                document.getElementById('rate-xiu-bar').style.width = percentMain + "%";
                document.getElementById('rate-tai-bar').style.width = percentSub + "%";
            }

            // Ho√†n t·∫•t
            resDisplay.classList.remove('hidden');
            scanner.style.display = 'none';
            loadWrap.style.display = 'none';
            loadFill.style.width = "0%";
            btn.innerText = "PH√ÇN T√çCH K·∫æT TH√öC";
            btn.disabled = false;
        }
    }, 40);
}

    // BG Canvas
    window.onload = function() {
        const cv = document.getElementById('bg-canvas');
        const ctx = cv.getContext('2d');
        cv.width = window.innerWidth; cv.height = window.innerHeight;
        function draw() {
            ctx.fillStyle = "rgba(2, 2, 5, 0.1)"; ctx.fillRect(0,0,cv.width,cv.height);
            ctx.fillStyle = "rgba(0, 242, 255, 0.2)";
            for(let i=0; i<30; i++) ctx.fillRect(Math.random()*cv.width, Math.random()*cv.height, 1, 1);
            requestAnimationFrame(draw);
        }
        draw();
    };
</script>    
</body>    
</html>
