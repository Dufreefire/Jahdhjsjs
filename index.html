<!DOCTYPE html>            
<html lang="vi">            
<head>            
    <meta charset="UTF-8">            
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">            
    <title>Tool T√†i X·ªâu MD5 - Premium Edition</title>            
    <script src="https://cdn.tailwindcss.com"></script>            
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>            
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>        
    <style>            
        @import url('https://fonts.googleapis.com/css2?family=Lexend:wght@300;400;700;900&display=swap');            
        :root { --main: #00f2ff; --sub: #7000ff; --dark: #020205; --gold: #fbbf24; --success: #22c55e; }            
                
        * { -webkit-user-select: none; user-select: none; box-sizing: border-box; outline: none !important; -webkit-tap-highlight-color: transparent; }            
        input, textarea { -webkit-user-select: auto !important; user-select: auto !important; pointer-events: auto !important; }          
                
        body { background-color: var(--dark); color: white; font-family: 'Lexend', sans-serif; overflow: hidden; height: 100vh; margin: 0; }            
        #bg-canvas { position: fixed; inset: 0; z-index: -1; }            
        
        .glass-card { background: rgba(255, 255, 255, 0.02); border: 1px solid rgba(0, 242, 255, 0.15); backdrop-filter: blur(20px); border-radius: 30px; }            
        .btn-main { background: linear-gradient(135deg, var(--main) 0%, var(--sub) 100%); color: white; font-weight: 800; cursor: pointer; transition: 0.3s; box-shadow: 0 10px 20px rgba(0, 242, 255, 0.2); }            
        .cyber-input { background: rgba(0, 0, 0, 0.6) !important; border: 1px solid rgba(255, 255, 255, 0.1) !important; color: var(--main) !important; border-radius: 15px !important; text-align: center; }            
            
        .nav-bar { position: fixed; bottom: 0; left: 0; right: 0; height: 75px; background: rgba(10,10,20,0.95); border-top: 1px solid rgba(0,242,255,0.2); backdrop-filter: blur(20px); display: flex; justify-content: space-around; align-items: center; z-index: 999; }            
        .nav-item { display: flex; flex-direction: column; align-items: center; color: #555; cursor: pointer; transition: 0.3s; width: 20%; }            
        .nav-item.active { color: var(--main); text-shadow: 0 0 10px var(--main); }            
        .nav-item span { font-size: 7px; font-weight: 900; text-transform: uppercase; margin-top: 4px; letter-spacing: 0.5px; }            
        .nav-center { position: relative; top: -20px; width: 60px; height: 60px; background: linear-gradient(135deg, var(--main), var(--sub)); border-radius: 50%; display: flex; align-items: center; justify-content: center; box-shadow: 0 0 20px rgba(0, 242, 255, 0.5); border: 4px solid var(--dark); transition: 0.3s; }            
        
        .info-row { display: flex; align-items: center; gap: 15px; padding: 15px; background: rgba(255,255,255,0.03); border-radius: 20px; border: 1px solid rgba(255,255,255,0.05); margin-bottom: 10px; }        
        .rank-item { display: flex; align-items: center; justify-content: space-between; padding: 12px 15px; background: rgba(255,255,255,0.02); border-radius: 15px; margin-bottom: 8px; border: 1px solid rgba(255,255,255,0.03); }        
        
        @keyframes rainbow { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }        
        .pkg-card { background-size: 200% 200%; animation: rainbow 3s linear infinite; transition: 0.3s; border: 1px solid rgba(255,255,255,0.1); position: relative; cursor: pointer; }        
        
        /* 6 G√ìI M√ÄU SI√äU ƒê·∫∏P M·ªöI */
        .pkg-1 { background: linear-gradient(-45deg, #2563eb, #3b82f6, #60a5fa, #1d4ed8); }        
        .pkg-2 { background: linear-gradient(-45deg, #4b5563, #6b7280, #9ca3af, #374151); }        
        .pkg-3 { background: linear-gradient(-45deg, #d97706, #fbbf24, #f59e0b, #b45309); }        
        .pkg-4 { background: linear-gradient(-45deg, #0891b2, #06b6d4, #22d3ee, #0e7490); }        
        .pkg-5 { background: linear-gradient(-45deg, #7c3aed, #8b5cf6, #a78bfa, #6d28d9); }        
        .pkg-6 { background: linear-gradient(-45deg, #dc2626, #ef4444, #f87171, #b91c1c); }        
        
        .status-overlay { position: fixed; inset: 0; background: rgba(2, 2, 5, 0.95); z-index: 20000; display: none; align-items: center; justify-content: center; backdrop-filter: blur(15px); }        
        .check-container { width: 80px; height: 80px; border-radius: 50%; display: flex; align-items: center; justify-content: center; background: var(--success); box-shadow: 0 0 30px rgba(34, 197, 94, 0.4); margin: 0 auto 20px; }        
          
        .bank-info-card { background: linear-gradient(135deg, rgba(255,255,255,0.05) 0%, rgba(255,255,255,0.01) 100%); border: 1px solid rgba(255,255,255,0.1); border-radius: 24px; padding: 20px; }        
        .copy-badge { background: var(--main); color: black; font-size: 9px; padding: 4px 10px; border-radius: 8px; font-weight: 900; cursor: pointer; display: inline-block; }    
  
        #confirm-modal { position: fixed; inset: 0; background: rgba(0,0,0,0.85); backdrop-filter: blur(10px); z-index: 30000; display: none; align-items: center; justify-content: center; padding: 20px; }    
        .modal-content { width: 100%; max-width: 350px; background: #0a0a0f; border: 1px solid rgba(0, 242, 255, 0.3); border-radius: 25px; padding: 30px; box-shadow: 0 0 40px rgba(0, 242, 255, 0.1); text-align: center; }    
  
        .check-icon { font-size: 40px; color: white; animation: checkPop 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275); }      
        @keyframes checkPop { 0% { transform: scale(0) rotate(-45deg); opacity: 0; } 100% { transform: scale(1) rotate(0); opacity: 1; } }      
          
        /* PH√ÇN T√çCH PREMIUM */    
        .analyzer-box-ultimate { position: relative; border: 2px solid rgba(0, 242, 255, 0.3); background: rgba(0, 0, 0, 0.4); border-radius: 25px; overflow: hidden; }    
        .radar-v12 { position: absolute; width: 100%; height: 10px; background: linear-gradient(to bottom, transparent, var(--main)); box-shadow: 0 0 20px var(--main); top: -10px; z-index: 10; display: none; animation: radarAnim 2s infinite linear; }    
        @keyframes radarAnim { 0% { top: -10%; } 100% { top: 110%; } }    
  
        .comparison-bar { width: 100%; height: 14px; background: #111; border-radius: 20px; display: flex; overflow: hidden; border: 1px solid #222; margin: 15px 0; }    
        .bar-tai { height: 100%; background: #00f2ff; box-shadow: 0 0 15px #00f2ff; transition: 2s cubic-bezier(0.1, 0.8, 0.2, 1); width: 0%; }    
        .bar-xiu { height: 100%; background: #ff4747; box-shadow: 0 0 15px #ff4747; transition: 2s cubic-bezier(0.1, 0.8, 0.2, 1); width: 0%; }    
        .glow-tai-text { color: #00f2ff; text-shadow: 0 0 30px #00f2ff; }    
        .glow-xiu-text { color: #ff4747; text-shadow: 0 0 30px #ff4747; }

        /* L·ªãch s·ª≠ MD5 */
        .history-box { max-height: 200px; overflow-y: auto; margin-top: 20px; padding-right: 5px; }
        .history-item { background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.05); padding: 10px; border-radius: 12px; margin-bottom: 8px; display: flex; justify-content: space-between; align-items: center; }

        /* C·∫£nh b√°o m·∫≠t kh·∫©u */
        #pass-warning { font-size: 8px; font-weight: 900; color: #ff4747; text-transform: uppercase; margin-top: 5px; display: none; }
    </style>            
</head>            
<body>            
        
<div id="status-overlay" class="status-overlay">      
    <div class="text-center px-6">      
        <div id="loading-spinner" class="mb-4">      
            <div style="width:60px;height:60px;border:4px solid var(--main);border-top-color:transparent;border-radius:50%;" class="animate-spin mx-auto"></div>      
            <p id="status-text" class="text-cyan-400 font-black text-xs tracking-widest uppercase mt-4 animate-pulse italic">ƒêang x·ª≠ l√Ω d·ªØ li·ªáu...</p>      
        </div>      
        <div id="success-done" class="hidden animate__animated animate__fadeIn">      
            <div class="check-container">      
                <i class="fas fa-check check-icon"></i>      
            </div>      
            <h2 id="success-title" class="text-2xl font-black italic mb-2 uppercase text-white">Th√†nh C√¥ng!</h2>      
            <p id="success-desc" class="text-gray-400 text-xs mb-6 max-w-[250px] mx-auto"></p>      
                  
            <div id="key-result-box" class="hidden key-box">      
                <p class="text-[10px] text-cyan-400 font-black uppercase mb-2">M√£ Key VIP c·ªßa b·∫°n</p>      
                <div class="flex items-center justify-center gap-2">
                    <p id="key-val" class="text-2xl font-black tracking-widest text-white mb-2"></p>      
                </div>
                <p class="text-[9px] text-gray-500 uppercase">H·ªá th·ªëng ƒë√£ l∆∞u v√†o l·ªãch s·ª≠ mua</p>      
            </div>      
      
            <button onclick="closeStatus()" class="w-full py-4 btn-main rounded-2xl text-xs font-black uppercase tracking-widest">Tuy·ªát v·ªùi</button>      
        </div>      
    </div>      
</div>    
  
<div id="confirm-modal">    
    <div class="modal-content animate__animated animate__zoomIn">    
        <h3 class="text-white font-black uppercase italic text-sm mb-2">X√°c nh·∫≠n mua</h3>    
        <p id="confirm-msg" class="text-[11px] text-gray-400 mb-6"></p>    
        <div class="flex gap-3">    
            <button id="modal-cancel-btn" class="flex-1 py-4 bg-white/5 rounded-xl text-[10px] font-black uppercase">H·ªßy</button>    
            <button id="modal-confirm-btn" class="flex-1 py-4 btn-main rounded-xl text-[10px] font-black uppercase">Mua ngay</button>    
        </div>    
    </div>    
</div>    
        
<canvas id="bg-canvas"></canvas>            
            
<div class="flex items-center justify-center min-h-screen p-4 pb-28">            
    <div class="w-full max-w-[420px]">            
                    
        <div id="box-login" class="glass-card p-10 animate__animated animate__fadeIn">            
            <div class="text-center mb-8">            
                <h1 class="text-3xl font-black uppercase italic">TOOL T√ÄI X·ªàU <span class="text-cyan-400">MD5</span></h1>            
                <p class="text-[9px] text-gray-500 font-bold uppercase mt-1 tracking-[4px]">H·ªá Th·ªëng Ph√¢n T√≠ch AI</p>            
            </div>            
            <div class="space-y-4">            
                <input id="u" type="text" placeholder="T√äN ƒêƒÇNG NH·∫¨P" class="w-full p-5 cyber-input uppercase text-xs">            
                <input id="p" type="password" placeholder="M·∫¨T KH·∫®U" class="w-full p-5 cyber-input text-xs">            
                <button onclick="doLogin()" class="w-full py-5 btn-main rounded-2xl text-sm font-black uppercase italic">ƒêƒÉng nh·∫≠p</button>            
                <button onclick="navigateTo('reg')" class="w-full text-[10px] text-gray-500 uppercase font-bold">ƒêƒÉng k√Ω t√†i kho·∫£n</button>            
            </div>            
        </div>        
        
        <div id="box-reg" class="hidden glass-card p-8 animate__animated animate__fadeIn">        
             <h2 class="text-center font-black text-cyan-400 mb-6 uppercase text-sm">ƒêƒÉng k√Ω th√†nh vi√™n</h2>        
             <div class="space-y-3">        
                 <input id="r-u" type="text" placeholder="T√äN ƒêƒÇNG NH·∫¨P" class="w-full p-4 cyber-input uppercase text-xs">        
                 <div>
                    <input id="r-p" type="password" placeholder="M·∫¨T KH·∫®U" oninput="validatePass(this.value)" class="w-full p-4 cyber-input text-xs">        
                    <p id="pass-warning">‚ö†Ô∏è M·∫≠t kh·∫©u y·∫øu (C·∫ßn > 5 k√Ω t·ª±)</p>
                 </div>
                 <input id="r-email" type="email" placeholder="GMAIL" class="w-full p-4 cyber-input text-xs">        
                 <input id="r-phone" type="tel" placeholder="S·ªê ƒêI·ªÜN THO·∫†I" class="w-full p-4 cyber-input text-xs">        
                 <button onclick="doReg()" class="w-full py-5 btn-main rounded-2xl text-xs font-black uppercase">X√°c nh·∫≠n</button>        
                 <button onclick="navigateTo('login')" class="w-full text-[10px] text-gray-500 uppercase">Quay l·∫°i</button>        
             </div>        
        </div>        
        
        <div id="box-portal" class="hidden animate__animated animate__zoomIn">            
            <div class="flex justify-between items-center mb-6 px-2">            
                <div class="flex items-center gap-4">            
                    <img src="https://i.imgur.com/WLeaCev.jpeg" class="w-14 h-14 rounded-2xl border-2 border-cyan-400">            
                    <div>            
                        <p id="portal-user" class="text-cyan-400 text-[11px] font-black uppercase"></p>            
                        <p id="portal-bal" class="text-2xl font-black text-white italic">0 ƒë</p>            
                    </div>            
                </div>            
            </div>            
            <div class="glass-card p-5 mb-5 bg-gradient-to-br from-cyan-500/10 to-transparent">            
                <p class="text-[9px] text-gray-500 font-bold uppercase mb-2">ID C·ª¶A B·∫†N</p>            
                <div class="flex justify-between items-center">            
                    <span id="portal-ref" class="text-xl font-black tracking-[4px] text-white"></span>            
                    <button onclick="navigateTo('nap')" class="px-5 py-2 btn-main rounded-full text-[10px] font-black uppercase">N·∫°p ti·ªÅn</button>            
                </div>            
            </div>            
            <div class="grid grid-cols-2 gap-4">            
                <div onclick="navigateTo('buy-key')" class="glass-card p-8 text-center cursor-pointer hover:border-cyan-400 transition">            
                    <span class="text-4xl block mb-2">üíé</span><p class="text-[10px] font-black uppercase">G√≥i Key VIP</p>            
                </div>            
                <div onclick="showPersonal()" class="glass-card p-8 text-center cursor-pointer hover:border-cyan-400 transition">            
                    <span class="text-4xl block mb-2">üë§</span><p class="text-[10px] font-black uppercase">C√° Nh√¢n</p>            
                </div>            
            </div>            
        </div>        
        
        <div id="box-nap" class="hidden glass-card p-8 text-center animate__animated animate__fadeIn">        
            <h3 class="text-cyan-400 font-black mb-6 uppercase text-sm italic">N·∫°p ti·ªÅn t·ª± ƒë·ªông</h3>        
            <div class="bank-info-card mb-6">        
                <div class="bg-white p-2 rounded-2xl inline-block mb-4">        
                    <img id="qr-code" src="" class="w-40 h-40">        
                </div>        
                <div class="space-y-3 text-left">        
                    <div class="flex justify-between items-center border-b border-white/5 pb-2">        
                        <span class="text-[10px] text-gray-500 font-bold uppercase">S·ªë TK:</span>        
                        <div class="flex items-center">        
                            <span class="text-[11px] font-black text-cyan-400">103886058569</span>        
                            <span onclick="copyText('103886058569')" class="copy-badge ml-2">COPY</span>        
                        </div>        
                    </div>        
                    <div class="flex justify-between items-center border-b border-white/5 pb-2">        
                        <span class="text-[10px] text-gray-500 font-bold uppercase">N·ªôi dung:</span>        
                        <div class="flex items-center">        
                            <span id="ref-id-nap" class="text-[11px] font-black text-yellow-500"></span>        
                            <span id="btn-copy-ref" class="copy-badge ml-2">COPY</span>        
                        </div>        
                    </div>        
                </div>        
            </div>        
            <input id="nap-amount" type="number" placeholder="NH·∫¨P S·ªê TI·ªÄN" class="w-full p-4 cyber-input mb-4 text-xs font-black">        
            <button onclick="sendNapTele()" class="w-full py-5 btn-main rounded-2xl text-xs font-black uppercase italic">T√¥i ƒë√£ chuy·ªÉn kho·∫£n</button>        
        </div>        
  
        <div id="box-buy-key" class="hidden glass-card p-6 animate__animated animate__fadeIn">        
            <h3 class="text-center font-black text-cyan-400 mb-6 uppercase text-sm italic">H·ªá th·ªëng 6 G√≥i VIP</h3>        
            <div class="space-y-3 max-h-[420px] overflow-y-auto pr-2">        
                <div onclick="buyKey(5000, 0.04, 'G√≥i 1 Gi·ªù')" class="pkg-card pkg-1 p-5 rounded-2xl flex justify-between items-center">        
                    <span class="text-[10px] font-black text-white uppercase tracking-wider">1 GI·ªú TR·∫¢I NGHI·ªÜM</span><span class="font-black text-white">5K</span>        
                </div>        
                <div onclick="buyKey(15000, 1, 'G√≥i 24 Gi·ªù')" class="pkg-card pkg-2 p-5 rounded-2xl flex justify-between items-center">        
                    <span class="text-[10px] font-black text-white uppercase tracking-wider">24 GI·ªú S·ª¨ D·ª§NG</span><span class="font-black text-white">15K</span>        
                </div>        
                <div onclick="buyKey(50000, 3, 'G√≥i 3 Ng√†y')" class="pkg-card pkg-3 p-5 rounded-2xl flex justify-between items-center">        
                    <span class="text-[10px] font-black text-white uppercase tracking-wider">3 NG√ÄY TI·∫æT KI·ªÜM</span><span class="font-black text-white">50k</span>        
                </div>        
                <div onclick="buyKey(70000, 7, 'G√≥i 7 Ng√†y')" class="pkg-card pkg-4 p-5 rounded-2xl flex justify-between items-center">        
                    <span class="text-[10px] font-black text-white uppercase tracking-wider">7 NG√ÄY CHI·∫æN TH·∫ÆNG</span><span class="font-black text-white">70K</span>        
                </div>        
                <div onclick="buyKey(150000, 30, 'G√≥i 30 Ng√†y')" class="pkg-card pkg-5 p-5 rounded-2xl flex justify-between items-center">        
                    <span class="text-[10px] font-black text-white uppercase tracking-wider">30 NG√ÄY CAO C·∫§P</span><span class="font-black text-white">150k</span>        
                </div>        
                <div onclick="buyKey(250000, 9999, 'Vƒ©nh Vi·ªÖn')" class="pkg-card pkg-6 p-5 rounded-2xl flex justify-between items-center">        
                    <span class="text-[10px] font-black text-white uppercase tracking-wider">M·ªû KH√ìA Vƒ®NH VI·ªÑN</span><span class="font-black text-white">250k</span>        
                </div>        
            </div>        
        </div>        
  
        <div id="box-info" class="hidden glass-card p-8 animate__animated animate__fadeIn">        
            <h3 id="info-u" class="text-center text-xl font-black text-white uppercase italic mb-6">USER</h3>        
            <div class="space-y-3">        
                <div class="info-row"><span>üí∞</span><p id="info-bal" class="text-xs font-bold text-white"></p></div>        
                <div class="info-row"><span>üîë</span><p id="info-key" class="text-xs font-bold text-white"></p></div>        
            </div>        
            <button onclick="navigateTo('portal')" class="w-full mt-6 py-4 bg-white/5 rounded-2xl text-[10px] font-black uppercase">ƒê√≥ng</button>        
        </div>        
  
        <div id="box-rank" class="hidden glass-card p-8 animate__animated animate__fadeIn">        
            <h3 class="text-center font-black text-white uppercase italic mb-6">üèÜ X·∫øp H·∫°ng</h3>        
            <div id="ranking-list" class="space-y-2"></div>        
        </div>        
  
        <div id="box-use-key" class="hidden glass-card p-8 animate__animated animate__fadeIn">        
            <div id="key-activation">        
                <h3 class="text-center font-black text-cyan-400 mb-6 uppercase text-[10px] italic">K√≠ch Ho·∫°t Key VIP</h3>        
                <input id="key-input" type="text" placeholder="NH·∫¨P M√É KEY" class="w-full p-5 cyber-input mb-4 uppercase text-xs font-black">        
                <button onclick="activateLicense()" class="w-full py-5 btn-main rounded-2xl text-xs font-black uppercase">M·ªü kh√≥a Tool</button>        
            </div>        
                    
            <div id="tool-interface" class="hidden space-y-6">        
                <div class="analyzer-box-ultimate">    
                    <div id="radar-line" class="radar-v12"></div>    
                    <textarea id="md5-input" placeholder="D√ÅN M√É PHI√äN MD5 V√ÄO ƒê√ÇY..."     
                        class="w-full h-32 p-5 bg-transparent border-none text-cyan-400 font-bold uppercase text-[12px] text-center"></textarea>        
                </div>    
              
                <button id="ana-btn" onclick="runAnalysis()" class="w-full py-5 btn-main rounded-2xl text-[11px] font-black uppercase italic tracking-widest">B·∫Øt ƒë·∫ßu ph√¢n t√≠ch</button>        
              
                <div id="res-display" class="hidden">    
                    <div class="glass-card p-8 text-center border-cyan-500/30">  
                        <p class="text-[8px] text-gray-500 font-black uppercase tracking-[5px] mb-2 italic">K·∫øt qu·∫£</p>  
                        <p id="res-val" class="text-7xl font-black italic transition-all duration-500"></p>        
                          
                        <div class="mt-8">    
                            <div class="flex justify-between text-[10px] font-black uppercase px-2 mb-2 tracking-widest">    
                                <span class="text-cyan-400">T√†i: <span id="p-tai">0</span>%</span>    
                                <span class="text-red-500">X·ªâu: <span id="p-xiu">0</span>%</span>    
                            </div>    
                            <div class="comparison-bar">    
                                <div id="fill-tai" class="bar-tai"></div>    
                                <div id="fill-xiu" class="bar-xiu"></div>    
                            </div>    
                        </div>  
                    </div>  
                </div>

                <div class="mt-10">
                    <p class="text-[8px] text-gray-500 font-black uppercase tracking-[3px] mb-4 italic text-center">L·ªãch s·ª≠ ph√¢n t√≠ch</p>
                    <div id="md5-history" class="history-box"></div>
                </div>
            </div>    
        </div>            
  
    </div>            
</div>            
            
<div id="main-nav" class="nav-bar hidden">            
    <div class="nav-item active" onclick="navigateTo('portal'); setActiveNav(this)">            
        <i class="fas fa-home text-lg"></i>
        <span>Trang Ch·ªß</span>            
    </div>            
    <div class="nav-item" onclick="showRanking(); setActiveNav(this)">            
        <i class="fas fa-trophy text-lg"></i>
        <span>X·∫øp H·∫°ng</span>            
    </div>            
    <div class="nav-center" onclick="checkToolAccess(); setActiveNav(this)">            
        <i class="fas fa-bolt text-2xl text-white"></i>
    </div>            
    <div class="nav-item" onclick="navigateTo('nap'); setActiveNav(this)">            
        <i class="fas fa-wallet text-lg"></i>
        <span>N·∫°p Ti·ªÅn</span>            
    </div>            
    <div class="nav-item" onclick="showPersonal(); setActiveNav(this)">            
        <i class="fas fa-user text-lg"></i>
        <span>H·ªì S∆°</span>            
    </div>            
</div>            
            
<script>            
    const CONFIG = {            
        TELE_TOKEN: "8537007585:AAE5Z1aX4ZCMxCySB5I_qNpzhQS6sr84SsU",            
        TELE_CHAT_ID: "8144161968",            
        STK: "103886058569", BANK: "ICB",              
        DB_NAME: "MD5_DATABASE_PRO_V24"            
    };         
    let currentUser = null;            
    const getDB = () => JSON.parse(localStorage.getItem(CONFIG.DB_NAME)) || { users: [], keys: [], md5History: [] };            
    const saveDB = (db) => localStorage.setItem(CONFIG.DB_NAME, JSON.stringify(db));            
  
    // VALIDATE PASS
    function validatePass(val) {
        const warn = document.getElementById('pass-warning');
        if(val.length > 0 && val.length < 6) warn.style.display = 'block';
        else warn.style.display = 'none';
    }

    function runAnalysis() {        
        const input = document.getElementById('md5-input').value.trim();        
        if(input.length < 5) return alert("Vui l√≤ng d√°n m√£ MD5!");        
        const btn = document.getElementById('ana-btn');        
        const radar = document.getElementById('radar-line');    
        const resDisplay = document.getElementById('res-display');    
        const fillTai = document.getElementById('fill-tai');    
        const fillXiu = document.getElementById('fill-xiu');    
          
        btn.disabled = true;   
        btn.innerHTML = `<i class="fas fa-microchip fa-spin mr-2"></i> ƒêANG PH√ÇN T√çCH...`;   
        radar.style.display = 'block';   
        resDisplay.classList.add('hidden');    
        fillTai.style.width = '0%'; fillXiu.style.width = '0%';  
  
        let seed = 0; for (let i = 0; i < input.length; i++) seed += input.charCodeAt(i) * (i + 7);     
        const taiPercent = (20 + (seed % 6001) / 100).toFixed(2);    
        const xiuPercent = (100 - taiPercent).toFixed(2);    
        const isTai = parseFloat(taiPercent) > 50;    
  
        setTimeout(() => {    
            btn.innerHTML = `<i class="fas fa-atom fa-spin mr-2"></i> ƒêANG PH√ÇN T√çCH...`;  
            setTimeout(() => {  
                btn.disabled = false; btn.innerHTML = `TI·∫æP T·ª§C PH√ÇN T√çCH`; radar.style.display = 'none';    
                const v = document.getElementById('res-val'); v.innerText = isTai ? "T√ÄI" : "X·ªàU";        
                v.className = `text-7xl font-black italic ${isTai ? 'glow-tai-text' : 'glow-xiu-text'}`;  
                document.getElementById('p-tai').innerText = taiPercent;    
                document.getElementById('p-xiu').innerText = xiuPercent;    
                resDisplay.classList.remove('hidden'); resDisplay.classList.add('animate__animated', 'animate__zoomIn');    
                setTimeout(() => { fillTai.style.width = taiPercent + "%"; fillXiu.style.width = xiuPercent + "%"; }, 100);    
                
                // L∆ØU L·ªäCH S·ª¨
                let db = getDB();
                db.md5History.unshift({ md5: input.substring(0, 10) + '...', res: isTai ? 'T√ÄI' : 'X·ªàU', time: new Date().toLocaleTimeString() });
                if(db.md5History.length > 20) db.md5History.pop();
                saveDB(db);
                updateHistoryUI();
            }, 1500);    
        }, 1500);        
    }    
  
    function updateHistoryUI() {
        const db = getDB();
        const container = document.getElementById('md5-history');
        container.innerHTML = db.md5History.map(h => `
            <div class="history-item">
                <span class="text-[9px] text-gray-500 font-bold uppercase">${h.time}</span>
                <span class="text-[10px] font-black text-cyan-400 font-mono">${h.md5}</span>
                <b class="text-[10px] ${h.res === 'T√ÄI' ? 'text-cyan-400' : 'text-red-500'} italic">${h.res}</b>
            </div>
        `).join('');
    }

    function showStatus(title, desc, type = 'loading', key = '') {  
        const overlay = document.getElementById('status-overlay');  
        const spinner = document.getElementById('loading-spinner');  
        const done = document.getElementById('success-done');  
        overlay.style.display = 'flex';  
        if(type === 'loading') { spinner.classList.remove('hidden'); done.classList.add('hidden'); document.getElementById('status-text').innerText = title; }  
        else {  
            spinner.classList.add('hidden'); done.classList.remove('hidden');  
            document.getElementById('success-title').innerText = title;  
            document.getElementById('success-desc').innerText = desc;  
            if(key) {   
                document.getElementById('key-result-box').classList.remove('hidden');   
                document.getElementById('key-val').innerText = key;   
            } else { document.getElementById('key-result-box').classList.add('hidden'); }  
        }  
    }  
  
    function buyKey(price, days, name) {  
        let db = getDB(); const uIdx = db.users.findIndex(u => u.u === currentUser.u);  
        if(db.users[uIdx].bal < price) return alert("S·ªë d∆∞ kh√¥ng ƒë·ªß!");  
        const modal = document.getElementById('confirm-modal');  
        document.getElementById('confirm-msg').innerText = `D√πng ${price.toLocaleString()}ƒë ƒë·ªÉ mua ${name}?`;  
        modal.style.display = 'flex';  
        document.getElementById('modal-confirm-btn').onclick = () => {  
            modal.style.display = 'none';  
            db.users[uIdx].bal -= price;  
            const key = "VIP-" + Math.random().toString(36).substring(2, 10).toUpperCase();  
            db.keys.push({ key, days, used: false, owner: currentUser.u });  
            saveDB(db); refreshPortal();  
            showStatus("MUA TH√ÄNH C√îNG", `C·∫£m ∆°n b·∫°n ƒë√£ mua ${name}.`, 'success', key);  
        };  
        document.getElementById('modal-cancel-btn').onclick = () => modal.style.display = 'none';  
    }  
  
    function copyText(txt) { navigator.clipboard.writeText(txt).then(() => alert("ƒê√£ sao ch√©p!")); }  
    function closeStatus() { document.getElementById('status-overlay').style.display = 'none'; }  
    function navigateTo(boxId) { document.querySelectorAll('[id^=\"box-\"]').forEach(b => b.classList.add('hidden')); document.getElementById('box-' + boxId).classList.remove('hidden'); if(boxId === 'portal') refreshPortal(); if(boxId === 'nap') { document.getElementById('ref-id-nap').innerText = currentUser.ref; document.getElementById('qr-code').src = `https://img.vietqr.io/image/${CONFIG.BANK}-${CONFIG.STK}-compact.png?amount=0&addInfo=${currentUser.ref}`; } if(boxId === 'use-key') updateHistoryUI(); }  
    function setActiveNav(el) { document.querySelectorAll('.nav-item').forEach(i => i.classList.remove('active')); if(!el.classList.contains('nav-center')) el.classList.add('active'); }  
    function doLogin() { const u = document.getElementById('u').value.trim().toUpperCase(); const p = document.getElementById('p').value; const db = getDB(); const f = db.users.find(x => x.u === u && x.p === p); if(f) { currentUser = f; document.getElementById('main-nav').classList.remove('hidden'); navigateTo('portal'); } else alert("Sai th√¥ng tin!"); }  
    function doReg() { const u = document.getElementById('r-u').value.trim().toUpperCase(); const p = document.getElementById('r-p').value; let db = getDB(); if(p.length < 6) return alert("M·∫≠t kh·∫©u qu√° y·∫øu!"); if(db.users.find(x => x.u === u)) return alert("T√™n t·ªìn t·∫°i!"); const newUser = { u, p, bal: 0, ref: "VIP" + Math.floor(1000 + Math.random()*8999), hsd: null }; db.users.push(newUser); saveDB(db); currentUser = newUser; document.getElementById('main-nav').classList.remove('hidden'); navigateTo('portal'); }  
    function sendNapTele() { const amount = document.getElementById('nap-amount').value; if(amount < 1000) return alert("T·ªëi thi·ªÉu 5,000ƒë"); showStatus("G·ª≠i y√™u c·∫ßu...", "H·ªá th·ªëng ƒëang g·ª≠i t·ªõi Admin", 'loading'); const msg = `üîî **Y√äU C·∫¶U N·∫†P**\nüë§: \`${currentUser.u}\`\nüí∞: \`${Number(amount).toLocaleString()}\`\nüìù: \`${currentUser.ref}\``; fetch(`https://api.telegram.org/bot${CONFIG.TELE_TOKEN}/sendMessage?chat_id=${CONFIG.TELE_CHAT_ID}&text=${encodeURIComponent(msg)}&parse_mode=Markdown`).then(() => showStatus("TH√ÄNH C√îNG", "Vui l√≤ng ƒë·ª£i duy·ªát.", 'success')); }  
    function refreshPortal() { const db = getDB(); currentUser = db.users.find(u => u.u === currentUser.u); document.getElementById('portal-user').innerText = "Ch√†o, " + currentUser.u; document.getElementById('portal-bal').innerText = currentUser.bal.toLocaleString() + " ƒë"; document.getElementById('portal-ref').innerText = currentUser.ref; }  
    function showPersonal() { document.getElementById('info-u').innerText = currentUser.u; document.getElementById('info-bal').innerText = currentUser.bal.toLocaleString() + " ƒë"; document.getElementById('info-key').innerText = (currentUser.hsd && currentUser.hsd > Date.now()) ? "üíé ƒê√É K√çCH HO·∫†T" : "‚ùå CH∆ØA C√ì"; navigateTo('info'); }  
    function showRanking() { const db = getDB(); const sorted = [...db.users].sort((a,b) => b.bal - a.bal).slice(0, 10); document.getElementById('ranking-list').innerHTML = sorted.map((u, i) => `<div class=\"rank-item\"><span class=\"font-black italic text-cyan-400\">#${i+1} ${u.u}</span><span class=\"font-black\">${u.bal.toLocaleString()}ƒë</span></div>`).join(''); navigateTo('rank'); }  
    function checkToolAccess() { let db = getDB(); let u = db.users.find(x => x.u === currentUser.u); if(u.hsd && u.hsd > Date.now()) { document.getElementById('key-activation').classList.add('hidden'); document.getElementById('tool-interface').classList.remove('hidden'); } else { document.getElementById('key-activation').classList.remove('hidden'); document.getElementById('tool-interface').classList.add('hidden'); } navigateTo('use-key'); }  
    function activateLicense() { const kv = document.getElementById('key-input').value.trim().toUpperCase(); let db = getDB(); const kIdx = db.keys.findIndex(k => k.key === kv && !k.used); if(kIdx === -1) return alert("Key sai!"); const uIdx = db.users.findIndex(u => u.u === currentUser.u); db.users[uIdx].hsd = Date.now() + (db.keys[kIdx].days * 86400000); db.keys[kIdx].used = true; saveDB(db); showStatus("TH√ÄNH C√îNG", "K√≠ch ho·∫°t VIP th√†nh c√¥ng!", 'success'); setTimeout(() => { closeStatus(); checkToolAccess(); }, 1500); }  
      
    const canvas = document.getElementById('bg-canvas'); const ctx = canvas.getContext('2d');  
    canvas.width = window.innerWidth; canvas.height = window.innerHeight;  
    let pt = []; for(let i=0; i<40; i++) pt.push({x:Math.random()*canvas.width, y:Math.random()*canvas.height, r:Math.random()*1.5, s:Math.random()*0.3});  
    function draw() { ctx.clearRect(0,0,canvas.width,canvas.height); ctx.fillStyle = "rgba(0, 242, 255, 0.1)"; pt.forEach(p => { ctx.beginPath(); ctx.arc(p.x, p.y, p.r, 0, Math.PI*2); ctx.fill(); p.y -= p.s; if(p.y < -10) p.y = canvas.height + 10; }); requestAnimationFrame(draw); }  
    draw();  
</script>            
</body>            
</html>
