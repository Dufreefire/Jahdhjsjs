<!DOCTYPE html>            
<html lang="vi">            
<head>            
    <meta charset="UTF-8">            
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">            
    <title>MD5 GLOBAL V29 - THE OMNI SYSTEM</title>            
    <script src="https://cdn.tailwindcss.com"></script>            
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>            
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>        
    <style>            
        @import url('https://fonts.googleapis.com/css2?family=Lexend:wght@300;400;700;900&display=swap');            
        :root { --main: #00f2ff; --sub: #7000ff; --dark: #020205; --gold: #fbbf24; --success: #22c55e; }            
        * { -webkit-user-select: none; user-select: none; box-sizing: border-box; outline: none !important; -webkit-tap-highlight-color: transparent; }            
        input, textarea { -webkit-user-select: auto !important; user-select: auto !important; pointer-events: auto !important; }          
        body { background-color: var(--dark); color: white; font-family: 'Lexend', sans-serif; overflow: hidden; height: 100vh; margin: 0; }            
        #bg-canvas { position: fixed; inset: 0; z-index: -1; }            
        
        .glass-card { background: rgba(255, 255, 255, 0.02); border: 1px solid rgba(0, 242, 255, 0.15); backdrop-filter: blur(20px); border-radius: 30px; }            
        .btn-main { background: linear-gradient(135deg, var(--main) 0%, var(--sub) 100%); color: white; font-weight: 800; cursor: pointer; transition: 0.3s; box-shadow: 0 10px 20px rgba(0, 242, 255, 0.2); }            
        .cyber-input { background: rgba(0, 0, 0, 0.6) !important; border: 1px solid rgba(255, 255, 255, 0.1) !important; color: var(--main) !important; border-radius: 15px !important; text-align: center; }            
        
        .nav-bar { position: fixed; bottom: 0; left: 0; right: 0; height: 75px; background: rgba(10,10,20,0.95); border-top: 1px solid rgba(0,242,255,0.2); display: flex; justify-content: space-around; align-items: center; z-index: 999; }            
        .nav-item { display: flex; flex-direction: column; align-items: center; color: #555; width: 20%; cursor: pointer; transition: 0.3s; }            
        .nav-item.active { color: var(--main); text-shadow: 0 0 10px var(--main); }            
        .nav-item span { font-size: 7px; font-weight: 900; text-transform: uppercase; margin-top: 4px; }            
        .nav-center { position: relative; top: -20px; width: 60px; height: 60px; background: linear-gradient(135deg, var(--main), var(--sub)); border-radius: 50%; display: flex; align-items: center; justify-content: center; border: 4px solid var(--dark); box-shadow: 0 0 20px var(--main); }            
        
        @keyframes rainbow { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }
        .pkg-card { background-size: 200% 200%; animation: rainbow 3s linear infinite; border: 1px solid rgba(255,255,255,0.1); transition: 0.3s; cursor: pointer; }
        .pkg-1 { background: linear-gradient(-45deg, #2563eb, #3b82f6, #60a5fa, #1d4ed8); }        
        .pkg-2 { background: linear-gradient(-45deg, #4b5563, #6b7280, #9ca3af, #374151); }        
        .pkg-3 { background: linear-gradient(-45deg, #d97706, #fbbf24, #f59e0b, #b45309); }        
        .pkg-4 { background: linear-gradient(-45deg, #0891b2, #06b6d4, #22d3ee, #0e7490); }        
        .pkg-5 { background: linear-gradient(-45deg, #7c3aed, #8b5cf6, #a78bfa, #6d28d9); }        
        .pkg-6 { background: linear-gradient(-45deg, #dc2626, #ef4444, #f87171, #b91c1c); }

        .status-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.95); z-index: 100000; display: none; align-items: center; justify-content: center; backdrop-filter: blur(15px); }
        .radar-v12 { position: absolute; width: 100%; height: 10px; background: linear-gradient(to bottom, transparent, var(--main)); box-shadow: 0 0 20px var(--main); top: -10px; z-index: 10; display: none; animation: radarAnim 1.5s infinite linear; }    
        @keyframes radarAnim { 0% { top: -10%; } 100% { top: 110%; } }

        .prediction-box { background: linear-gradient(180deg, rgba(0, 242, 255, 0.05) 0%, rgba(0,0,0,0.8) 100%); border: 1px solid rgba(0, 242, 255, 0.3); border-radius: 25px; padding: 20px; position: relative; overflow: hidden; }
        .win-rate-circle { width: 80px; height: 80px; border-radius: 50%; border: 3px solid rgba(0,242,255,0.1); border-top-color: var(--main); display: flex; flex-direction: column; align-items: center; justify-content: center; margin: 0 auto 15px; animation: spin 2s linear infinite; }
        @keyframes spin { 100% { transform: rotate(360deg); } }

        .comparison-bar { width: 100%; height: 12px; background: #111; border-radius: 20px; display: flex; overflow: hidden; margin: 15px 0; border: 1px solid #333; }
        .bar-tai { height: 100%; background: #00f2ff; box-shadow: 0 0 10px #00f2ff; transition: 2s; width: 0%; }
        .bar-xiu { height: 100%; background: #ff4747; box-shadow: 0 0 10px #ff4747; transition: 2s; width: 0%; }

        .history-item { background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.05); padding: 10px; border-radius: 12px; margin-bottom: 8px; display: flex; justify-content: space-between; align-items: center; }
        
        .profile-row { display: flex; justify-content: space-between; align-items: center; padding: 12px 0; border-bottom: 1px solid rgba(255,255,255,0.05); }
        .profile-label { font-size: 8px; font-weight: 900; color: #555; text-transform: uppercase; }
        .profile-value { font-size: 11px; font-weight: 700; color: #fff; }

        /* M·ªöI: TABS CHO TOOL */
        .tool-tab { flex: 1; padding: 12px; text-align: center; font-size: 9px; font-weight: 900; text-transform: uppercase; color: #555; border-bottom: 2px solid transparent; cursor: pointer; transition: 0.3s; }
        .tool-tab.active { color: var(--main); border-bottom-color: var(--main); background: rgba(0,242,255,0.05); }
    </style>            
</head>            
<body>            

<div id="status-overlay" class="status-overlay">
    <div class="text-center px-6 w-full max-w-[350px]">
        <div id="status-loading">
            <div class="w-16 h-16 border-4 border-cyan-400 border-t-transparent rounded-full animate-spin mx-auto mb-4"></div>
            <p id="status-msg" class="text-cyan-400 font-black text-[10px] uppercase italic animate-pulse">Processing...</p>
        </div>
        <div id="status-success" class="hidden animate__animated animate__zoomIn p-8 bg-black/80 border-2 border-green-500 rounded-[40px]">
            <div class="w-20 h-20 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-6 shadow-[0_0_40px_rgba(34,197,94,0.6)]">
                <i class="fas fa-check text-4xl text-white"></i>
            </div>
            <h2 id="sc-title" class="text-2xl font-black text-white uppercase italic">TH√ÄNH C√îNG</h2>
            <p id="sc-desc" class="text-gray-300 text-[10px] mt-2 mb-8 uppercase font-bold px-4"></p>
            <button onclick="closeStatus()" class="w-full py-4 btn-main rounded-2xl text-[10px] font-black uppercase tracking-[3px]">X√°c nh·∫≠n</button>
        </div>
    </div>
</div>

<canvas id="bg-canvas"></canvas>            
            
<div class="flex items-center justify-center min-h-screen p-4 pb-28">            
    <div class="w-full max-w-[420px]">            
                    
        <div id="box-login" class="glass-card p-10 animate__animated animate__fadeIn">            
            <div class="text-center mb-8">            
                <h1 class="text-3xl font-black italic uppercase">TOOL T√ÄI X·ªàU  <span class="text-cyan-400">MD5</span></h1>            
                <p class="text-[8px] text-gray-500 uppercase font-black tracking-[4px]">M·ªöI NH·∫§T 2026 & DEVOLEP SCRIPT</p>            
            </div>            
            <div class="space-y-4">            
                <input id="u" type="text" placeholder="T√äN ƒêƒÇNG NH·∫¨P" class="w-full p-4 cyber-input uppercase text-xs font-bold">            
                <input id="p" type="password" placeholder="M·∫¨T KH·∫®U" class="w-full p-4 cyber-input text-xs">
                <div id="reg-fields" class="hidden space-y-4">
                    <input id="r-gmail" type="email" placeholder="ƒê·ªäA CH·ªà GMAIL" class="w-full p-4 cyber-input text-xs">
                    <input id="r-sdt" type="tel" placeholder="S·ªê ƒêI·ªÜN THO·∫†I" class="w-full p-4 cyber-input text-xs">
                </div>
                <button onclick="handleAuth()" id="btn-auth" class="w-full py-5 btn-main rounded-2xl text-xs font-black uppercase italic">V√†o H·ªá Th·ªëng</button>            
                <button onclick="toggleReg()" id="btn-toggle" class="w-full text-[10px] text-gray-500 font-black uppercase">Ch∆∞a c√≥ t√†i kho·∫£n? ƒêƒÉng k√Ω</button>
            </div>            
        </div>        

        <div id="box-portal" class="hidden animate__animated animate__zoomIn">            
            <div class="flex items-center gap-4 mb-8 px-2">            
                <img id="avatar-main" src="https://i.imgur.com/WLeaCev.jpeg" class="w-14 h-14 rounded-2xl border-2 border-cyan-400 object-cover">            
                <div>            
                    <p id="p-user" class="text-cyan-400 text-[10px] font-black uppercase">USER</p>            
                    <p id="p-bal" class="text-3xl font-black text-white italic">0 ƒë</p>            
                </div>            
            </div>            
            <div class="grid grid-cols-2 gap-4">            
                <div onclick="navigateTo('buy-key')" class="glass-card p-8 text-center cursor-pointer">            
                    <span class="text-4xl block mb-2">üíé</span><p class="text-[9px] font-black uppercase">G√≥i VIP</p>            
                </div>            
                <div onclick="navigateTo('nap')" class="glass-card p-8 text-center cursor-pointer">            
                    <span class="text-4xl block mb-2">üè¶</span><p class="text-[9px] font-black uppercase">V√≠ Ti·ªÅn</p>            
                </div>            
            </div>            
        </div>        

        <div id="box-nap" class="hidden glass-card p-8 text-center animate__animated animate__fadeIn">
            <h3 class="text-cyan-400 font-black uppercase mb-6 italic text-sm">N·∫°p Ti·ªÅn</h3>
            <div class="bg-black/40 p-6 rounded-3xl border border-dashed border-cyan-400/30 mb-6">
                <p class="text-[8px] text-gray-500 font-black uppercase mb-2">M√£ N·ªôi Dung</p>
                <p id="nap-ref" class="text-2xl font-black text-white tracking-[4px] font-mono"></p>
            </div>
            <input id="nap-val" type="number" placeholder="S·ªê TI·ªÄN" class="w-full p-4 cyber-input mb-4 text-xs font-black">
            <button onclick="requestDeposit()" class="w-full py-5 btn-main rounded-2xl text-[10px] font-black uppercase italic">G·ª≠i L·ªánh Duy·ªát Bot</button>
        </div>

        <div id="box-buy-key" class="hidden glass-card p-6 animate__animated animate__fadeIn">
            <h3 class="text-center font-black text-cyan-400 mb-6 uppercase text-sm italic">C·ª≠a H√†ng VIP</h3>
            <div class="space-y-3 max-h-[420px] overflow-y-auto pr-1">
                <div onclick="buyKey(5000, 1, '1 Gi·ªù')" class="pkg-card pkg-1 p-5 rounded-2xl flex justify-between items-center"><span class="text-[10px] font-black">1 GI·ªú</span><b>5K</b></div>
                <div onclick="buyKey(15000, 24, '24 Gi·ªù')" class="pkg-card pkg-2 p-5 rounded-2xl flex justify-between items-center"><span class="text-[10px] font-black">24 GI·ªú</span><b>15K</b></div>
                <div onclick="buyKey(50000, 72, '3 Ng√†y')" class="pkg-card pkg-3 p-5 rounded-2xl flex justify-between items-center"><span class="text-[10px] font-black">3 NG√ÄY</span><b>50K</b></div>
                <div onclick="buyKey(70000, 168, '7 Ng√†y')" class="pkg-card pkg-4 p-5 rounded-2xl flex justify-between items-center"><span class="text-[10px] font-black">7 NG√ÄY</span><b>70K</b></div>
                <div onclick="buyKey(150000, 720, '30 Ng√†y')" class="pkg-card pkg-5 p-5 rounded-2xl flex justify-between items-center"><span class="text-[10px] font-black">30 NG√ÄY</span><b>150K</b></div>
                <div onclick="buyKey(250000, 99999, 'Vƒ©nh Vi·ªÖn')" class="pkg-card pkg-6 p-5 rounded-2xl flex justify-between items-center"><span class="text-[10px] font-black">Vƒ®NH VI·ªÑN</span><b>250K</b></div>
            </div>
        </div>

        <div id="box-info" class="hidden animate__animated animate__fadeIn">
            <div class="glass-card p-8 mb-6">
                <img id="avatar-profile" src="https://i.imgur.com/WLeaCev.jpeg" class="w-20 h-20 rounded-full border-2 border-cyan-400 mx-auto mb-6 object-cover">
                <div class="space-y-1">
                    <div class="profile-row"><span class="profile-label">User</span><span id="i-user" class="profile-value">---</span></div>
                    <div class="profile-row"><span class="profile-label">Email</span><span id="i-gmail" class="profile-value">---</span></div>
                    <div class="profile-row"><span class="profile-label">SƒêT</span><span id="i-sdt" class="profile-value">---</span></div>
                    <div class="profile-row"><span class="profile-label">V√≠</span><span id="i-bal" class="profile-value text-cyan-400">0 ƒë</span></div>
                    <div class="profile-row"><span class="profile-label">VIP</span><span id="i-hsd" class="profile-value text-red-500">Ch∆∞a k√≠ch ho·∫°t</span></div>
                </div>
                <div class="mt-6 pt-4 border-t border-white/5 space-y-3">
                    <input id="old-p" type="password" placeholder="MK C≈®" class="w-full p-3 cyber-input text-[10px]">
                    <input id="new-p" type="password" placeholder="MK M·ªöI" class="w-full p-3 cyber-input text-[10px]">
                    <button onclick="changePassword()" class="w-full py-3 bg-white/5 border border-white/10 rounded-xl text-[9px] font-black uppercase">ƒê·ªïi m·∫≠t kh·∫©u</button>
                </div>
            </div>
            <button onclick="location.reload()" class="w-full py-4 bg-red-500/10 text-red-500 border border-red-500/20 rounded-2xl text-[10px] font-black uppercase">ƒêƒÉng xu·∫•t</button>
        </div>

        <div id="box-use-key" class="hidden glass-card animate__animated animate__fadeIn overflow-hidden">
            <div id="key-activation" class="p-8">
                <h3 class="text-center font-black text-cyan-400 mb-6 uppercase text-[10px] italic">K√≠ch Ho·∫°t License</h3>
                <input id="key-input" type="text" placeholder="NH·∫¨P M√É KEY VIP" class="w-full p-5 cyber-input mb-4 uppercase text-xs font-bold">
                <button onclick="activateLicense()" class="w-full py-5 btn-main rounded-2xl text-xs font-black uppercase">M·ªü Kh√≥a H·ªá Th·ªëng</button>
            </div>
            
            <div id="tool-interface" class="hidden">
                <div class="flex border-b border-white/5 bg-black/20">
                    <div class="tool-tab active" onclick="switchTool('analyze', this)">D·ª± ƒêo√°n AI</div>
                    <div class="tool-tab" onclick="switchTool('decrypt', this)">Ph·∫≠n T√≠ch/div>
                    <div class="tool-tab" onclick="switchTool('scan', this)">L·∫•y D·ªØ Li·ªáu</div>
                </div>

                <div class="p-8 space-y-6">
                    <div class="relative border-2 border-cyan-400/30 rounded-3xl overflow-hidden bg-black/40">
                        <div id="radar-line" class="radar-v12"></div>
                        <textarea id="md5-input" placeholder="D√ÅN M√É PHI√äN HO·∫∂C M√É MD5 T·∫†I ƒê√ÇY..." class="w-full h-28 p-5 bg-transparent border-none text-cyan-400 font-bold uppercase text-[11px] text-center"></textarea>
                    </div>

                    <button id="ana-btn" onclick="runOmniAction()" class="w-full py-5 btn-main rounded-2xl text-[11px] font-black uppercase italic tracking-widest">B·∫Øt ƒë·∫ßu x·ª≠ l√Ω</button>

                    <div id="res-analyze" class="prediction-box text-center animate__animated animate__fadeIn">
                        <div id="res-loader" class="hidden">
                            <div class="win-rate-circle"><span id="win-rate-val" class="text-lg font-black text-cyan-400">0%</span></div>
                            <p class="text-[8px] text-gray-500 uppercase animate-pulse">ƒêANG PH√ÇN T√çCH...</p>
                        </div>
                        <div id="res-final" class="hidden">
                            <p class="text-[8px] text-gray-500 font-black uppercase mb-1">D·ª± ƒëo√°n k·∫øt qu·∫£</p>
                            <h2 id="res-val" class="text-6xl font-black italic mb-4">---</h2>
                            <div class="grid grid-cols-2 gap-2 mb-4">
                                <div class="bg-white/5 p-2 rounded-xl"><p class="text-[7px] text-gray-500 uppercase">T·ªâ l·ªá th·∫Øng</p><p id="stat-win" class="text-[12px] font-black text-cyan-400">0%</p></div>
                                <div class="bg-white/5 p-2 rounded-xl"><p class="text-[7px] text-gray-500 uppercase">ƒê·ªô kh·ªõp</p><p id="stat-force" class="text-[12px] font-black text-green-400">M·∫†NH</p></div>
                            </div>
                            <div class="comparison-bar"><div id="fill-tai" class="bar-tai"></div><div id="fill-xiu" class="bar-xiu"></div></div>
                        </div>
                    </div>

                    <div id="res-decrypt" class="hidden glass-card p-6 bg-black/60 border-cyan-400/20">
                        <p class="text-[8px] text-cyan-400 font-black uppercase mb-3"><i class="fas fa-unlock-alt mr-2"></i>MD5 Decrypt Result</p>
                        <div class="bg-white/5 p-4 rounded-xl break-all font-mono text-[10px] text-white border border-white/5">
                            <span id="decrypt-val">Waiting for input...</span>
                        </div>
                    </div>

                    <div class="mt-4">
                        <p class="text-[8px] text-gray-500 font-black uppercase text-center mb-3 italic">L·ªãch s·ª≠ soi phi√™n</p>
                        <div id="md5-history" class="space-y-2 max-h-[120px] overflow-y-auto"></div>
                    </div>
                </div>
            </div>
        </div>

        <div id="box-rank" class="hidden glass-card p-8 animate__animated animate__fadeIn">
            <h3 class="text-center font-black text-white uppercase italic mb-6">üèÜ X·∫øp H·∫°ng</h3>
            <div id="ranking-list" class="space-y-2"></div>
        </div>

    </div>            
</div>            

<div id="main-nav" class="nav-bar hidden">            
    <div class="nav-item active" onclick="navigateTo('portal', this)"><i class="fas fa-home text-lg"></i><span>Home</span></div>            
    <div class="nav-item" onclick="showRanking(this)"><i class="fas fa-trophy text-lg"></i><span>Rank</span></div>            
    <div class="nav-center" onclick="checkToolAccess(this)"><i class="fas fa-bolt text-2xl text-white"></i></div>            
    <div class="nav-item" onclick="navigateTo('nap', this)"><i class="fas fa-wallet text-lg"></i><span>V√≠</span></div>            
    <div class="nav-item" onclick="showInfo(this)"><i class="fas fa-user-shield text-lg"></i><span>H·ªì S∆°</span></div>            
</div>            

<script>
    const CONFIG = {
        TOKEN: "8537007585:AAE5Z1aX4ZCMxCySB5I_qNpzhQS6sr84SsU",
        CHAT_ID: "8144161968",
        DB: "MD5_OMNI_V29"
    };

    let isRegMode = false;
    let currentTool = 'analyze';
    const getDB = () => JSON.parse(localStorage.getItem(CONFIG.DB)) || { users: [], keys: [], logs: [] };
    const saveDB = (db) => localStorage.setItem(CONFIG.DB, JSON.stringify(db));
    let currentUser = null;

    function toggleReg() {
        isRegMode = !isRegMode;
        document.getElementById('reg-fields').classList.toggle('hidden');
        document.getElementById('btn-auth').innerText = isRegMode ? "ƒêƒÇNG K√ù NGAY" : "V√ÄO H·ªÜ TH·ªêNG";
    }

    function switchTool(type, el) {
        currentTool = type;
        document.querySelectorAll('.tool-tab').forEach(t => t.classList.remove('active'));
        el.classList.add('active');
        document.getElementById('res-analyze').classList.add('hidden');
        document.getElementById('res-decrypt').classList.add('hidden');
        if(type === 'analyze') document.getElementById('res-analyze').classList.remove('hidden');
        if(type === 'decrypt') document.getElementById('res-decrypt').classList.remove('hidden');
    }

    function showStatus(title, desc, isDone = false) {
        document.getElementById('status-overlay').style.display = 'flex';
        if(!isDone) {
            document.getElementById('status-loading').style.display = 'block';
            document.getElementById('status-success').style.display = 'none';
        } else {
            document.getElementById('status-loading').style.display = 'none';
            document.getElementById('status-success').style.display = 'block';
            document.getElementById('sc-title').innerText = title;
            document.getElementById('sc-desc').innerText = desc;
        }
    }
    function closeStatus() { document.getElementById('status-overlay').style.display = 'none'; }

    function handleAuth() {
        const u = document.getElementById('u').value.trim().toUpperCase();
        const p = document.getElementById('p').value;
        if(!u || p.length < 5) return alert("Vui l√≤ng ƒëi·ªÅn ƒë·ªß!");
        
        showStatus("Loading...", "Authenticating");
        setTimeout(() => {
            let db = getDB();
            let user = db.users.find(x => x.u === u);
            if(isRegMode) {
                if(user) { closeStatus(); return alert("User ƒë√£ t·ªìn t·∫°i!"); }
                user = { u, p, gmail: document.getElementById('r-gmail').value, sdt: document.getElementById('r-sdt').value, bal: 0, ref: "REF" + Math.floor(Math.random()*9999), hsd: null };
                db.users.push(user); saveDB(db);
                showStatus("ƒêƒÇNG K√ù XONG", "Vui l√≤ng ƒëƒÉng nh·∫≠p ƒë·ªÉ ti·∫øp t·ª•c!", true);
            } else {
                if(!user || user.p !== p) { closeStatus(); return alert("Sai th√¥ng tin!"); }
                currentUser = user;
                document.getElementById('main-nav').classList.remove('hidden');
                navigateTo('portal');
                closeStatus();
                startUpdateCheck();
            }
        }, 1200);
    }

    function changePassword() {
        const oldP = document.getElementById('old-p').value;
        const newP = document.getElementById('new-p').value;
        if(oldP !== currentUser.p) return alert("Sai MK c≈©!");
        let db = getDB();
        const uIdx = db.users.findIndex(x => x.u === currentUser.u);
        db.users[uIdx].p = newP; saveDB(db);
        currentUser.p = newP; alert("Th√†nh c√¥ng!");
    }

    function startUpdateCheck() {
        setInterval(() => {
            fetch(`https://api.telegram.org/bot${CONFIG.TOKEN}/getUpdates?offset=-1`)
            .then(r => r.json()).then(data => {
                if(data.result && data.result.length > 0) {
                    const msg = data.result[0].message.text;
                    if(msg && msg.startsWith("DUYET")) {
                        const pts = msg.split(" ");
                        let db = getDB();
                        const uIdx = db.users.findIndex(u => u.ref === pts[1]);
                        if(uIdx !== -1) {
                            db.users[uIdx].bal += parseInt(pts[2]); saveDB(db);
                            if(currentUser.ref === pts[1]) {
                                refreshData(); showStatus("N·∫†P TH√ÄNH C√îNG", `ƒê√£ c·ªông ${pts[2]}ƒë v√†o v√≠!`, true);
                            }
                        }
                    }
                }
            }).catch(e => {});
        }, 4000);
    }

    function requestDeposit() {
        const val = document.getElementById('nap-val').value;
        if(val < 1000) return alert("Min 1,000ƒë");
        const tele = `üí∞ **N·∫†P TI·ªÄN**\n\nüë§ User: \`${currentUser.u}\`\nüÜî ID: \`${currentUser.ref}\`\nüíµ Ti·ªÅn: **${val}ƒë**\n\nL·ªánh Duy·ªát:\n\`DUYET ${currentUser.ref} ${val}\``;
        fetch(`https://api.telegram.org/bot${CONFIG.TOKEN}/sendMessage?chat_id=${CONFIG.CHAT_ID}&text=${encodeURIComponent(tele)}&parse_mode=Markdown`)
        .then(() => { showStatus("G·ª¨I TH√ÄNH C√îNG", "Ch·ªù Admin duy·ªát n·∫°p.", true); });
    }

    function buyKey(price, hours, name) {
        let db = getDB(); const uIdx = db.users.findIndex(u => u.u === currentUser.u);
        if(db.users[uIdx].bal < price) return alert("S·ªë d∆∞ kh√¥ng ƒë·ªß!");
        db.users[uIdx].bal -= price;
        const key = "VIP-" + Math.random().toString(36).substring(2, 10).toUpperCase();
        db.keys.push({ key, hours, used: false });
        saveDB(db); refreshData();
        showStatus("MUA TH√ÄNH C√îNG", `M√£ Key: ${key}`, true);
    }

    function checkToolAccess(el) {
        let db = getDB(); let u = db.users.find(x => x.u === currentUser.u);
        if(u.hsd && u.hsd > Date.now()) {
            document.getElementById('key-activation').classList.add('hidden');
            document.getElementById('tool-interface').classList.remove('hidden');
        } else {
            document.getElementById('key-activation').classList.remove('hidden');
            document.getElementById('tool-interface').classList.add('hidden');
        }
        navigateTo('use-key', el);
    }

    function activateLicense() {
        const kv = document.getElementById('key-input').value.trim().toUpperCase();
        let db = getDB(); const kIdx = db.keys.findIndex(k => k.key === kv && !k.used);
        if(kIdx === -1) return alert("Key sai!");
        const uIdx = db.users.findIndex(u => u.u === currentUser.u);
        db.users[uIdx].hsd = Date.now() + (db.keys[kIdx].hours * 3600000);
        db.keys[kIdx].used = true; saveDB(db);
        showStatus("K√çCH HO·∫†T VIP", "H·ªá th·ªëng ƒë√£ s·∫µn s√†ng!", true);
        setTimeout(() => { closeStatus(); checkToolAccess(); }, 1500);
    }

    function runOmniAction() {
        const input = document.getElementById('md5-input').value.trim();
        if(!input) return alert("D√°n m√£ c·∫ßn x·ª≠ l√Ω!");
        
        document.getElementById('ana-btn').disabled = true;
        document.getElementById('radar-line').style.display = 'block';

        if(currentTool === 'analyze') {
            document.getElementById('res-loader').classList.remove('hidden');
            document.getElementById('res-final').classList.add('hidden');
            let p = 0; const itv = setInterval(() => { p += 10; document.getElementById('win-rate-val').innerText = p+"%"; if(p>=100) clearInterval(itv); }, 200);
            setTimeout(() => {
                document.getElementById('res-loader').classList.add('hidden');
                document.getElementById('res-final').classList.remove('hidden');
                const isTai = Math.random() > 0.5;
                const win = Math.floor(78+Math.random()*15);
                document.getElementById('res-val').innerText = isTai ? "T√ÄI" : "X·ªàU";
                document.getElementById('res-val').className = `text-6xl font-black italic mb-4 ${isTai ? 'text-cyan-400' : 'text-red-500'}`;
                document.getElementById('stat-win').innerText = win+"%";
                document.getElementById('fill-tai').style.width = isTai ? win+"%" : (100-win)+"%";
                document.getElementById('fill-xiu').style.width = isTai ? (100-win)+"%" : win+"%";
                completeAction(input, isTai ? "T√ÄI" : "X·ªàU");
            }, 2500);
        } else if(currentTool === 'decrypt') {
            setTimeout(() => {
                document.getElementById('decrypt-val').innerText = "ClearText: " + (Math.random().toString(36).substring(7) + " | Status: Lives");
                completeAction(input, "DECRYPT");
            }, 2000);
        } else {
            setTimeout(() => { alert("ƒêANG PH√ÇN T√çCH..."); completeAction(input, "SCAN"); }, 2000);
        }
    }

    function completeAction(input, res) {
        document.getElementById('ana-btn').disabled = false;
        document.getElementById('radar-line').style.display = 'none';
        let db = getDB(); db.logs.unshift({ md5: input.substring(0,10)+'...', res: res });
        if(db.logs.length > 10) db.logs.pop();
        saveDB(db); updateHistoryUI();
    }

    function updateHistoryUI() {
        document.getElementById('md5-history').innerHTML = getDB().logs.map(l => `
            <div class="history-item">
                <span class="text-[9px] font-mono text-cyan-400">${l.md5}</span>
                <b class="text-[10px] ${l.res === 'T√ÄI' ? 'text-cyan-400' : 'text-red-500'} italic">${l.res}</b>
            </div>
        `).join('');
    }

    function refreshData() {
        let u = getDB().users.find(x => x.u === currentUser.u);
        document.getElementById('p-user').innerText = u.u;
        document.getElementById('p-bal').innerText = u.bal.toLocaleString() + " ƒë";
        document.getElementById('nap-ref').innerText = u.ref;
    }

    function navigateTo(id, el = null) {
        if(el) { document.querySelectorAll('.nav-item').forEach(i => i.classList.remove('active')); if(!el.classList.contains('nav-center')) el.classList.add('active'); }
        document.querySelectorAll('[id^="box-"]').forEach(b => b.classList.add('hidden'));
        document.getElementById('box-' + id).classList.remove('hidden');
        if(id === 'portal') refreshData();
    }

    function showRanking(el) {
        const sorted = [...getDB().users].sort((a,b) => b.bal - a.bal).slice(0, 10);
        document.getElementById('ranking-list').innerHTML = sorted.map((u, i) => `<div class="flex justify-between p-4 bg-white/5 rounded-2xl"><span class="text-[10px] font-black">#${i+1} ${u.u}</span><b class="text-cyan-400 text-[10px]">${u.bal.toLocaleString()}ƒë</b></div>`).join('');
        navigateTo('rank', el);
    }

    function showInfo(el) {
        let u = getDB().users.find(x => x.u === currentUser.u);
        document.getElementById('i-user').innerText = u.u;
        document.getElementById('i-gmail').innerText = u.gmail || "N/A";
        document.getElementById('i-sdt').innerText = u.sdt || "N/A";
        document.getElementById('i-bal').innerText = u.bal.toLocaleString() + " ƒë";
        document.getElementById('i-hsd').innerText = (u.hsd && u.hsd > Date.now()) ? "VIP ACTIVE" : "EXPIRED";
        navigateTo('info', el);
    }

    const canvas = document.getElementById('bg-canvas'); const ctx = canvas.getContext('2d');
    canvas.width = window.innerWidth; canvas.height = window.innerHeight;
    let pt = []; for(let i=0; i<30; i++) pt.push({x:Math.random()*canvas.width, y:Math.random()*canvas.height, r:Math.random()*1.5, s:Math.random()*0.3});
    function draw() { ctx.clearRect(0,0,canvas.width,canvas.height); ctx.fillStyle = "rgba(0, 242, 255, 0.1)"; pt.forEach(p => { ctx.beginPath(); ctx.arc(p.x, p.y, p.r, 0, Math.PI*2); ctx.fill(); p.y -= p.s; if(p.y < -10) p.y = canvas.height + 10; }); requestAnimationFrame(draw); }
    draw();
</script>
</body>
</html>
